@import 'colors';

.XfceHeading {
  margin: 0;
  padding: 0;
  border-width: 0;
  background-image: none;
  background-color: shade($bg_color, 1.18);
  color: $text_color;
  text-shadow: 0px 1px $shadow_color;
}

/**
 * Panel
 */
.xfce4-panel.background {
  color: $panel_fg_color;
  font-weight: normal;

  button {
    background-image: none;
    background-color: transparent;
    border-radius: 0;
    border-color: transparent;
    box-shadow: none;
    padding: 0 1px;
    color: $panel_fg_color;
    text-shadow: 0px 1px $shadow_color;

    &:active,
    &:checked {
      color: $panel_fg_color;
      transition: none;
    }

    &:hover,
    &:active:hover,
    &:checked:hover {
      color: $panel_fg_color;
      transition: none;
    }

    &:drop(active) {
      color: $drop_target_color;
      border-color: $drop_target_color;
      box-shadow: inset 0 0 0 1px $drop_target_color;
    }
  }

  entry {
    caret-color: $text_color;
  }

  menu {
    -gtk-icon-effect: none;

    text-shadow: none;

    // Theme pulseaudio-plugin's mpris buttons
    .linked button {
      @extend %linked;
      @include button(normal, $menu_color, $text_color);

      &:disabled {
        @include button(insensitive);
        border-color: transparentize($borders_color, 0.5);
      }
    }
  }

  progressbar {
    margin: 0;

    &.horizontal {
      trough {
        min-height: 6px;
        padding: 0;
      }

      progress {
        min-height: 4px;
      }
    }

    &.vertical {
      trough {
        min-width: 6px;
        padding: 0;
      }

      progress {
        min-width: 4px;
      }
    }

    progress {
      border-radius: 0px;
    }

    trough {
      background: shade($panel_bg_color, 0.7);
      border-radius: 0px;
      border-color: shade($panel_bg_color, 0.4);
    }
  }

  .tasklist button {
    border-radius: 3px;
    color: shade($panel_fg_color, 0.7);
    background-image: linear-gradient(
      to bottom,
      shade($panel_bg_color, 0.65),
      shade($panel_bg_color, 0.6),
      shade($panel_bg_color, 0.5),
      shade($panel_bg_color, 0.45)
    );
    border: none;

    &.flat {
      background-image: none;
      border: none;
      box-shadow: none;
    }

    &:active,
    &:checked {
      background-image: linear-gradient(
        to bottom,
        shade($selected_bg_color, 0.65),
        shade($selected_bg_color, 0.6),
        shade($selected_bg_color, 0.5),
        shade($selected_bg_color, 0.45)
      );
      color: shade($panel_fg_color, 1);
      box-shadow: inset 0 1px transparentize(white, 0.9),
        inset 0 -1px transparentize(black, 0.8);
    }

    &:hover,
    &:active:hover,
    &:checked:hover {
      background-image: linear-gradient(
        to bottom,
        shade($selected_bg_color, 0.85),
        shade($selected_bg_color, 0.8),
        shade($selected_bg_color, 0.7),
        shade($selected_bg_color, 0.65)
      );
      color: shade($panel_fg_color, 1);
      box-shadow: inset 0 1px transparentize(white, 0.9),
        inset 0 -1px transparentize(black, 0.8);
    }

    image {
      padding: 3px;
    }
  }

  &.horizontal .tasklist {
    button {
      margin: 0 1px;

      label {
        padding-right: 3px;
      }
    }
  }

  &.vertical .tasklist {
    button {
      margin: 1px 0;

      label {
        padding-bottom: 3px;
      }
    }
  }
}

/* Workspace switcher provided by libwnck */
wnck-pager {
  &:selected {
    background-color: shade($selected_bg_color, 0.88);
  }

  &:hover {
    background-color: $selected_bg_color;
  }
}

/**
 * Thunar
 */
.thunar {
  toolbar {
    border-bottom: none;
    background: $bg_color;

    entry {
      min-height: 24px;
      border-radius: 15px;
      border-color: transparentize($fg_color, 0.6);

      &:focus {
        border-color: transparentize($fg_color, 0.1);

        image {
          color: $text_color;
        }
      }

      &:disabled {
        border-color: $selected_bg_color;

        image {
          color: $text_color;
        }
      }
    }
  }

  .sidebar.frame {
    border-top: none;
  }

  .sidebar {
    .view {
      padding: 3px;

      &:selected {
        background: $selected_bg_color;
      }
    }
  }
}

XfdesktopIconView.view {
  background: transparent;
  color: $panel_fg_color;
  border-radius: 3px;

  &:active {
    background: rgba(darken($selected_bg_color, 15%), 0.5);
    text-shadow: 0 1px 1px black;
  }

  &:active {
    background: rgba(darken($selected_bg_color, 15%), 0.5);
    color: $selected_bg_color;
    text-shadow: 0 1px 1px black;
  }

  .label {
    text-shadow: 1px 1px 2px black;

    &:active {
      color: $selected_fg_color;
    }
  }

  .rubberband {
    @extend rubberband;
    border-radius: 0;
  }
}

#XfceNotifyWindow {
  background-color: shade($panel_bg_color, 0.3);
  color: $panel_fg_color;
  border-color: shade($panel_bg_color, 0.6);
  box-shadow: none;

  buttonbox {
    padding: 0;
  }

  button {
    color: $panel_fg_color;
    background-image: none;
    border-color: shade($panel_fg_color, 0.35);
    border-radius: 3px;
    box-shadow: none;

    &:hover {
      background-color: shade($panel_bg_color, 0.4);
      border-color: shade($panel_fg_color, 0.45);
    }
  }

  label#summary {
    font-weight: bold;
  }

  progressbar {
    min-height: 6px;
    border-radius: 3px;

    progress {
      background-image: none;
      background-color: $panel_fg_color;
      border: none;
      box-shadow: none;
    }

    trough {
      background-image: linear-gradient(
        to bottom,
        shade($panel_bg_color, 0.65),
        shade($panel_bg_color, 1.25)
      );
      border: 1px solid shade($panel_bg_color, 0.2);
      border-radius: 3px;
      padding: 1px 0;
    }
  }
}

/* Xfwm4's alt-tab dialog, aka "tabwin" */
#xfwm-tabwin {
  padding: 12px;
  background-image: none;
  background-color: transparentize(black, 0.2);
  color: shade($selected_fg_color, 0.65);
  text-shadow: 0px 1px transparentize(black, 0.2);
  border-radius: 12px;
  /* Set the application icon- and preview-size to 64px */
  -xfwmtabwinwidget-icon-size: 64px;
  -xfwmtabwinwidget-preview-size: 64px;

  button {
    background-image: none;
    color: $selected_fg_color;
    font-weight: bold;
    text-shadow: 0px 1px transparentize(black, 0.2);
    border: none;
    border-radius: 6px;
    box-shadow: none;

    &:active,
    &:checked,
    &:active:hover,
    &:checked:hover {
      background: transparentize($bg_color, 0.7);
    }

    &:hover {
      background: mix(black, $selected_bg_color, 40%);
      transition-duration: 50ms;
    }
  }

  .tabwin-app-grid button {
    min-width: 96px;
    min-height: 96px;
  }
}

#xfce4-terminal-notebook {
  > stack:not(:only-child) {
    // the :not(:only-child) is for "hidden" notebooks
    /* Make sure there are no extra borders for the tabs in the terminal apart from at the top */
    border-left: none;
    border-right: none;
    border-bottom: none;
  }
}

/**
 * Whisker Menu
 */
window#whiskermenu-window {
  scrolledwindow {
    background-color: $base_color;
    border: none;

    treeview.view {
      background-color: transparent;
      color: $text_color;
      padding: 3px 3px 3px 10px;

      &:selected {
        &:hover {
          background-color: $selected_bg_color;
          color: $text_color;
        }
      }
    }
  }

  background-color: transparent;
  color: $text_color;
  border-radius: 0px;

  > frame {
    background-color: $base_color;
    border-radius: 15px;
    padding: 10px;
    margin: 2px 5px;

    > border {
      border: none;
    }
  }

  button {
    background-color: transparent;
    background-clip: padding-box;
    color: $text_color;
    font-weight: bold;
    border-radius: 15px;
    border: 0;
    padding: 3px;

    &:hover {
      background-color: transparentize($base_color, 0.1);
      color: $text_color;
      border: 0;
    }

    &:checked {
      background-color: transparentize($base_color, 0.3);
      color: $text_color;
    }

    &:active {
      background-color: transparentize($base_color, 0.3);
      color: $text_color;
    }

    &:disabled {
      color: transparentize($base_color, 0.6);
      border-color: $base_color;
    }
  }

  entry {
    background-color: $base_color;
    color: $text_color;
    border-color: transparentize($fg_color, 0.6);
    border-radius: 15px;
    padding: 2px 8px;
    margin-bottom: 10px;

    image {
      color: $text_color;
    }

    &:focus {
      border-color: transparentize($fg_color, 0.1);

      image {
        color: $text_color;
      }
    }

    &:disabled {
      border-color: transparentize($fg_color, 0.1);
      background-color: $base_color;

      image {
        color: $text_color;
      }
    }
  }
}
