theme_path = join_paths(get_option('prefix'), '.themes/Flate')

#
# GTK+-2.0 Files
#
gtk2_apps = files([
    'gtk-2.0/apps/terminal.rc',
    'gtk-2.0/apps/chromium.rc',
    'gtk-2.0/apps/claws-mail.rc',
    'gtk-2.0/apps/thunar.rc',
    'gtk-2.0/apps/gmusicbrowser.rc',
    'gtk-2.0/apps/xfce-panel.rc'
])

gtk2_thunar = files([
    'gtk-2.0/apps/thunar/breadcrumb_prelight.png',
    'gtk-2.0/apps/thunar/breadcrumb_default.png',
    'gtk-2.0/apps/thunar/sidebar_active.png',
    'gtk-2.0/apps/thunar/breadcrumb_active.png'
])

gtk2_files = files([
    'gtk-2.0/resize_grip.png',
    'gtk-2.0/xfsmlogout.png',
    'gtk-2.0/gtkrc'
])

gtk2_assets = files([
    'gtk-2.0/assets/checkbox-mixed.png',
    'gtk-2.0/assets/radio-mixed.png',
    'gtk-2.0/assets/checkbox-unchecked.png',
    'gtk-2.0/assets/radio-checked-insensitive.png',
    'gtk-2.0/assets/radio-checked-active.png',
    'gtk-2.0/assets/radio-checked-hover.png',
    'gtk-2.0/assets/checkbox-unchecked-hover.png',
    'gtk-2.0/assets/radio-unchecked.png',
    'gtk-2.0/assets/button-pressed.png',
    'gtk-2.0/assets/checkbox-checked.png',
    'gtk-2.0/assets/radio-mixed-insensitive.png',
    'gtk-2.0/assets/radio-unchecked-insensitive.png',
    'gtk-2.0/assets/checkbox-mixed-insensitive.png',
    'gtk-2.0/assets/checkbox-unchecked-active.png',
    'gtk-2.0/assets/checkbox-mixed-hover.png',
    'gtk-2.0/assets/checkbox-mixed-active.png',
    'gtk-2.0/assets/checkbox-checked-hover.png',
    'gtk-2.0/assets/radio-mixed-hover.png',
    'gtk-2.0/assets/radio-unchecked-active.png',
    'gtk-2.0/assets/button-hover.png',
    'gtk-2.0/assets/radio-mixed-active.png',
    'gtk-2.0/assets/checkbox-checked-active.png',
    'gtk-2.0/assets/checkbox-unchecked-insensitive.png',
    'gtk-2.0/assets/checkbox-checked-insensitive.png',
    'gtk-2.0/assets/button-default.png',
    'gtk-2.0/assets/radio-checked.png',
    'gtk-2.0/assets/button-insensitive.png',
    'gtk-2.0/assets/radio-unchecked-hover.png'
])

#
# GTK+-3.0 Files
#
scss_files = files([
    'gtk-3.0/_colors-public.scss',
    'gtk-3.0/_colors.scss',
    'gtk-3.0/_common.scss',
    'gtk-3.0/_drawing.scss',
    'gtk-3.0/_lightdm-gtk-greeter.scss',
    'gtk-3.0/_others.scss',
    'gtk-3.0/_xfce.scss'
])

gtk3_assets = files([
    'gtk-3.0/assets/checkbox-mixed.png',
    'gtk-3.0/assets/titlebutton-minimize-hover@2.png',
    'gtk-3.0/assets/titlebutton-maximize-active-dark@2.png',
    'gtk-3.0/assets/titlebutton-maximize-active@2.png',
    'gtk-3.0/assets/bullet-symbolic.svg',
    'gtk-3.0/assets/titlebutton-minimize-backdrop-dark.png',
    'gtk-3.0/assets/titlebutton-maximize@2.png',
    'gtk-3.0/assets/titlebutton-maximize-dark@2.png',
    'gtk-3.0/assets/checkbox-checked-active-selectionmode.png',
    'gtk-3.0/assets/dash-symbolic.symbolic.png',
    'gtk-3.0/assets/titlebutton-maximize.png',
    'gtk-3.0/assets/titlebutton-minimize-hover-dark@2.png',
    'gtk-3.0/assets/grid-selection-checked.png',
    'gtk-3.0/assets/titlebutton-close-dark@2.png',
    'gtk-3.0/assets/titlebutton-minimize.png',
    'gtk-3.0/assets/titlebutton-maximize-backdrop@2.png',
    'gtk-3.0/assets/titlebutton-maximize-dark.png',
    'gtk-3.0/assets/pane-separator-vertical.png',
    'gtk-3.0/assets/check-symbolic.symbolic.png',
    'gtk-3.0/assets/titlebutton-minimize-hover-dark.png',
    'gtk-3.0/assets/resize-grip.png',
    'gtk-3.0/assets/titlebutton-close-active@2.svg',
    'gtk-3.0/assets/checkbox-checked-hover-selectionmode.png',
    'gtk-3.0/assets/titlebutton-maximize-backdrop-dark.png',
    'gtk-3.0/assets/titlebutton-maximize-active-dark.png',
    'gtk-3.0/assets/check-symbolic.svg',
    'gtk-3.0/assets/checkbox-active-selectionmode.png',
    'gtk-3.0/assets/titlebutton-close-backdrop.png',
    'gtk-3.0/assets/titlebutton-close-dark.png',
    'gtk-3.0/assets/titlebutton-minimize@2.png',
    'gtk-3.0/assets/titlebutton-maximize-hover-dark@2.png',
    'gtk-3.0/assets/titlebutton-minimize-backdrop-dark@2.png',
    'gtk-3.0/assets/titlebutton-close-backdrop-dark.png',
    'gtk-3.0/assets/titlebutton-minimize-active.png',
    'gtk-3.0/assets/titlebutton-minimize-backdrop.png',
    'gtk-3.0/assets/checkbox-mixed-insensitive.png',
    'gtk-3.0/assets/titlebutton-close@2.png',
    'gtk-3.0/assets/titlebutton-minimize-active-dark@2.png',
    'gtk-3.0/assets/titlebutton-close-hover@2.png',
    'gtk-3.0/assets/checkbox-mixed-hover.png',
    'gtk-3.0/assets/titlebutton-close-hover.png',
    'gtk-3.0/assets/checkbox-selectionmode.png',
    'gtk-3.0/assets/titlebutton-close-hover-dark.png',
    'gtk-3.0/assets/titlebutton-close-active.png',
    'gtk-3.0/assets/titlebutton-maximize-hover@2.png',
    'gtk-3.0/assets/checkbox-hover-selectionmode.png',
    'gtk-3.0/assets/titlebutton-maximize-backdrop-dark@2.png',
    'gtk-3.0/assets/titlebutton-close.png',
    'gtk-3.0/assets/titlebutton-minimize-active-dark.png',
    'gtk-3.0/assets/checkbox-checked-backdrop-selectionmode.png',
    'gtk-3.0/assets/pane-separator.png',
    'gtk-3.0/assets/titlebutton-maximize-hover.png',
    'gtk-3.0/assets/titlebutton-maximize-backdrop.png',
    'gtk-3.0/assets/titlebutton-maximize-hover-dark.png',
    'gtk-3.0/assets/checkbox-backdrop-selectionmode.png',
    'gtk-3.0/assets/titlebutton-minimize-dark@2.png',
    'gtk-3.0/assets/titlebutton-minimize-dark.png',
    'gtk-3.0/assets/grid-selection-unchecked.png',
    'gtk-3.0/assets/bullet-symbolic.symbolic.png',
    'gtk-3.0/assets/titlebutton-close-backdrop-dark@2.png',
    'gtk-3.0/assets/titlebutton-maximize-active.png',
    'gtk-3.0/assets/titlebutton-close-active-dark.png',
    'gtk-3.0/assets/titlebutton-minimize-hover.png',
    'gtk-3.0/assets/titlebutton-close@2.svg',
    'gtk-3.0/assets/titlebutton-close-hover@2.svg',
    'gtk-3.0/assets/titlebutton-minimize-active@2.png',
    'gtk-3.0/assets/dash-symbolic.svg',
    'gtk-3.0/assets/titlebutton-close-active-dark@2.png',
    'gtk-3.0/assets/titlebutton-close-backdrop@2.png',
    'gtk-3.0/assets/titlebutton-minimize-backdrop@2.png',
    'gtk-3.0/assets/checkbox-unchecked-insensitive.png',
    'gtk-3.0/assets/checkbox-checked-insensitive.png',
    'gtk-3.0/assets/titlebutton-close-active-dark@2.svg',
    'gtk-3.0/assets/titlebutton-close-active@2.png',
    'gtk-3.0/assets/titlebutton-close-dark@2.svg',
    'gtk-3.0/assets/titlebutton-close-hover-dark@2.png',
])

#
# Xfce Notify 4.0 Files
#
xfce_notify_files = files([
    'xfce-notify-4.0/gtk.css',
    'xfce-notify-4.0/gtkrc'
])

#
# Xfwm4 Files
#
xfwm4_files = files([
    'xfwm4/bottom-active.png',
    'xfwm4/bottom-inactive.png',
    'xfwm4/bottom-left-active.png',
    'xfwm4/bottom-left-inactive.png',
    'xfwm4/bottom-right-active.png',
    'xfwm4/bottom-right-inactive.png',
    'xfwm4/close-active.png',
    'xfwm4/close-inactive.png',
    'xfwm4/close-prelight.png',
    'xfwm4/close-pressed.png',
    'xfwm4/hide-active.png',
    'xfwm4/hide-inactive.png',
    'xfwm4/hide-prelight.png',
    'xfwm4/hide-pressed.png',
    'xfwm4/left-active.png',
    'xfwm4/left-inactive.png',
    'xfwm4/maximize-active.png',
    'xfwm4/maximize-inactive.png',
    'xfwm4/maximize-prelight.png',
    'xfwm4/maximize-pressed.png',
    'xfwm4/menu-active.png',
    'xfwm4/menu-inactive.png',
    'xfwm4/menu-pressed.png',
    'xfwm4/right-active.png',
    'xfwm4/right-inactive.png',
    'xfwm4/shade-active.png',
    'xfwm4/shade-inactive.png',
    'xfwm4/shade-prelight.png',
    'xfwm4/shade-pressed.png',
    'xfwm4/title-1-active.png',
    'xfwm4/title-1-inactive.png',
    'xfwm4/title-2-active.png',
    'xfwm4/title-2-inactive.png',
    'xfwm4/title-3-active.png',
    'xfwm4/title-3-inactive.png',
    'xfwm4/title-4-active.png',
    'xfwm4/title-4-inactive.png',
    'xfwm4/title-5-active.png',
    'xfwm4/title-5-inactive.png',
    'xfwm4/top-left-active.png',
    'xfwm4/top-left-inactive.png',
    'xfwm4/top-right-active.png',
    'xfwm4/top-right-inactive.png',
    'xfwm4/themerc'
])

#
# Plank files
#
plank_files = files([
    'plank/dock.theme'
])


#
#   Installing
#

# index.theme, always install this
install_data('index.theme', install_dir : theme_path)

# gtk3 stuff, also always install this
install_data('gtk-3.0/settings.ini', install_dir : join_paths(theme_path, 'gtk-3.0'))
install_data(['gtk-3.0/apps/granite-widgets.css', 'gtk-3.0/apps/lightdm-unity-greeter.css'], install_dir : join_paths(theme_path, 'gtk-3.0/apps'))
install_data(gtk3_assets, install_dir : join_paths (theme_path, 'gtk-3.0/assets'))
theme_deps += custom_target('Flate',
                            input: 'gtk-3.0/gtk-contained.scss',
                            output: 'gtk.css',
                            command: [
                                sassc, sassc_opts, '@INPUT@', '@OUTPUT@'
                            ],
                            depend_files: scss_files,
                            build_by_default: true,
                            install: true,
                            install_dir: join_paths(theme_path, 'gtk-3.0'))

theme_deps += custom_target('Flate-Dark',
                            input: 'gtk-3.0/gtk-contained-dark.scss',
                            output: 'gtk-dark.css',
                            command: [
                                sassc, sassc_opts, '@INPUT@', '@OUTPUT@'
                            ],
                            depend_files: scss_files,
                            build_by_default: true,
                            install: true,
                            install_dir: join_paths(theme_path, 'gtk-3.0'))

gtk_light_gresources = gnome.compile_resources('gtk', 'gtk-3.0/gtk.gresource.xml',
                                         source_dir: join_paths(meson.source_root(), 'src/light/gtk-3.0'),
                                         install: true,
                                         gresource_bundle: true,
                                         install_dir: join_paths(theme_path, 'gtk-3.0'))

# we don't want to install these in the flatpak
if not get_option('flatpak')
    install_data('Flate.emerald', install_dir : theme_path)
    install_data(gtk2_files, install_dir : join_paths(theme_path, 'gtk-2.0'))
    install_data(gtk2_apps, install_dir : join_paths(theme_path, 'gtk-2.0/apps'))
    install_data(gtk2_thunar, install_dir : join_paths(theme_path, 'gtk-2.0/apps/thunar'))
    install_data(gtk2_assets, install_dir : join_paths(theme_path, 'gtk-2.0/assets'))
    install_data(xfce_notify_files, install_dir : join_paths (theme_path, 'xfce-notify-4.0'))
    install_data(xfwm4_files, install_dir : join_paths (theme_path, 'xfwm4'))
    install_data(plank_files, install_dir : join_paths (theme_path, 'plank'))
endif
